<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width"> 
    <title> 빈자리 알림이</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
	<script>
	
		function loadDoc() {
			var xmlHttp = new XMLHttpRequest();
			xmlHttp.onreadystatechange = function() {
				if(this.status == 200 && this.readyState == this.DONE) {
					findResult(xmlHttp);
				}
			};
			xmlHttp.open("GET", "http://openapi.tago.go.kr/openapi/service/BusLcInfoInqireService/getRouteAcctoBusLcList?ServiceKey=NJPq5bgNwTn08ylVVjGuBpmtiwARPqc%2BUR4WPrIf5advbjU9WA1RrL1SIMjKUNhRHh2fKE8QOVUpf6%2FBu9lCpA%3D%3D&cityCode=33020&routeId=CHB272000377", true);
			xmlHttp.send();
		}

		function findResult(xmlHttp) {
			var xmlObj, path, result, nodeList, node;
			xmlObj = xmlHttp.responseXML;
			path = "//nodenm"; 
			result = "";
		
			// 익스플로러를 위한 코드
			if (window.ActiveXObject !== undefined || xmlHttp.responseType == "msxml-document") {
				xmlObj.setProperty("SelectionLanguage", "XPath");
				nodeList = xmlObj.selectNodes(path);

				for (i=0; i<nodeList.length; i++) {
					result += nodeList[i].text + "<br>";
				}
			// 익스플로러를 제외한 브라우저를 위한 코드
			} else if (document.implementation && document.implementation.createDocument) {
				nodeList = xmlObj.evaluate(path, xmlObj, null, XPathResult.ANY_TYPE, null);
				node = nodeList.iterateNext();

				while (node) {
					result += node.firstChild.nodeValue + "<br>";
					node = nodeList.iterateNext();
				}
			}

			document.getElementById("text").innerHTML = result;
		}
	</script>
  </head>
  <style>
  .nav {
    height: 70px;
    border-bottom: 1px solid black;
    display: flex;
    align-items: center;
  }

  .nav-right-items {
    display: flex;
    margin-left: auto;
  }

  .nav-item {
    margin-left: 10px;
    }

  .group-name {
    margin-left: 20px;
    font-weight: bold;
    font-size: 30px;
    color: black;
  }     

  .title {
    font-size: 30px;
    font-weight: bold;
  } 

  .main {
    margin: 0 auto;
    margin-top: 30px;
    margin-left: 15px;
  }

  .prices {
    display: flex;
  }

  .price-item {
    width: 350px;
    height: 750px;
    border: 1px solid black;
    border-radius: 4px;
    margin-top: 30px;
  }

  .price-item-title {
    font-size: 1.2rem;
    background: rgba(0,0,0,.03);
    height: 53px;
    line-height: 53px;
    border-bottom: 1px solid black;
    text-align: center;
    font-weight: bold;
  }

  .price-item-price {
    font-size: 1.7rem;
    font-weight: bold;
    padding: 20px;
    margin-left: 30px;
    margin-top:500px;
  }
  .price-item-subtitle {
    font-size: 30px;
    font-weight: bold;
    text-align: center;
  }
  .price-item-button1 {
    padding: .5rem 1rem;
    font-size: 20px;
    line-height: 1.5;
    border:none;
    border-radius: .3rem;
    background-color: #007bff;
    color: white;
    margin-top: 15px;
    margin-left: 40px;
    width: 270px;
  }
  .price-item-detail {
    font-size: 16px;
    color: gray;
  }
  button:hover{
    background-color: rgba(0,79,255,0.8);
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0,79,255,0.6);
  }
  .group-name a:link, a:visited, a:hover, a:active {
    color:black;
    text-decoration: none;
  }
  .nav-item a:link, a:visited, a:hover, a:active {
    color: black;
    text-decoration: none;
}
.nav-item1 a:link, a:visited, a:hover, a:active {
    color: black;
    text-decoration: none;
}

.nav-item2 a:link, a:visited, a:hover, a:active {
    color: black;
    text-decoration: none;
}

.nav-item3 a:link, a:visited, a:hover, a:active {
    color: black;
    text-decoration: none;
}

.price-item-button1 a:link, a:visited, a:hover, a:active {
    color: black;
    text-decoration: none;
}
  </style>
  <body>
    <div class="nav">
      <div class="group-name"><a href="https://heoseunggyu.github.io/emptyseat/emptyseat.html">최강1조다승승</a></div>
       <div class="nav-right-items">
         <div class="nav-item1"><a href="https://heoseunggyu.github.io/introduce/introduce.html">소개</a></div>
         <div class="nav-item2"><a href="https://heoseunggyu.github.io/supportbus/supportbus.html">시내버스(지원노선)</a></div>
         <div class="nav-item3"><a href="https://heoseunggyu.github.io/developer/developer.html">개발자</a></div>
      </div>
      </div>
        <div class="main">
          <div class="title">
            시내버스 자리 알림이
          </div>
        <div class="prices">
        <div class="price-item">
          <div class="price-item-title">
             버스
            </div>
            <button class="price-item-button1" onclick="loadDoc()">999
              </button>
			  <p class="price-item-subtitle" id="text"></p>
			  <b> <? 
			  header("Content-Type: application/xml"); 
	  		  header("Access-Control-Allow-Origin: *”); ?> </b>
              <div class= "price-item-price">
               노선을 클릭해주십쇼.
              </div>
        </div>
      </div>
    <script src="script.js"></script>
  </body>
</html>
